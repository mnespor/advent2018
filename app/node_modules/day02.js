'use strict'

const R = require('ramda')
const readLines = require('util/read-lines')

const input = readLines('input/02.txt')

// 'bababc' => { 1: 'c', 2: 'a', 3: 'b' }
const frequencies = R.pipe(R.split(''), R.countBy(R.identity), R.invert)
console.log('sample:', JSON.stringify(frequencies('bababc', null, 2)))
// each word-frequency-map contributes 1 point
// { 1: 'c', 2: 'a' } => { 1: 1, 2: 1 }
const contribution = R.pipe(frequencies, R.map(R.always(1)))
// [{ 2: 'a', 3: 'c' }, { 3: 'b' }] => { 2: 1, 3: 2 }
const sumKeyCounts = R.reduce(R.mergeWith(R.add), {})

const sample = ['abcdef', 'bababc', 'abbcde', 'abcccd', 'aabcdd', 'abcdee', 'ababab']
console.log('sample:', sumKeyCounts(R.map(contribution, sample)))

const part1Counts = sumKeyCounts(R.map(contribution, input))
console.log('part 1:', part1Counts[2] * part1Counts[3])
